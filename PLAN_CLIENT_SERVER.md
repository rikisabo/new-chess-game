# תכנית מעבר לארכיטקטורה Client-Server

## 🎯 המטרה
להפוך את המשחק מ-Local ל-Client-Server עם שני לקוחות

## 📊 חלוקת אחריות חדשה

### **🖥️ SERVER (שרת)**
**מה יישאר בשרת:**
- `Game.py` - לוגיקת המשחק המלאה
- `Board.py` - מצב הלוח האמיתי
- `Piece.py` - כל הכלים וההתנגשויות
- `State.py`, `Physics.py`, `Moves.py` - כל הולידציה
- `move_log.py` - רישום המהלכים
- ולידציה של מהלכים
- זיהוי סוף משחק
- ניהול התנגשויות

**מה יתווסף לשרת:**
- WebSocket server
- API לקבלת פקודות מלקוחות
- שליחת עדכוני מצב לכל הלקוחות

### **💻 CLIENT (לקוח)**
**מה יעבור ללקוח:**
- `Graphics.py` - הצגה בלבד
- `KeyboardInput.py` - קלט מקלדת
- `SoundManager.py` - השמעת קולות
- `ScreenOverlay.py` - תצוגה
- תצוגת הלוח (ללא לוגיקה)
- שליחת פקודות לשרת
- קבלת עדכונים מהשרת

**מה יתווסף ללקוח:**
- WebSocket client
- ממשק לשליחת פקודות
- מאזין לעדכונים מהשרת

### **🔗 PROTOCOL (פרוטוקול תקשורת)**
**הודעות מלקוח לשרת:**
```json
{
  "type": "move",
  "player_id": "player1",
  "piece_id": "PW_1", 
  "from": [6, 0],
  "to": [4, 0]
}
```

**הודעות משרת ללקוח:**
```json
{
  "type": "game_state",
  "pieces": [...],
  "current_player": "white",
  "move_log": [...],
  "game_status": "ongoing"
}
```

## 🚀 שלבי הביצוע

### שלב 1: הכנת הבסיס (יום 1-2)
- [ ] יצירת תיקיות: `server/`, `client/`, `shared/`
- [ ] העברת קבצים לתיקיות המתאימות
- [ ] יצירת `protocol.py` משותף

### שלב 2: פיתוח השרת (יום 3-4)  
- [ ] התקנת WebSocket library (`websockets`)
- [ ] יצירת `game_server.py`
- [ ] הסרת Graphics מהשרת
- [ ] API לקבלת פקודות ושליחת מצבים

### שלב 3: פיתוח הלקוח (יום 5-6)
- [ ] יצירת `game_client.py` 
- [ ] הסרת לוגיקת משחק מהלקוח
- [ ] חיבור WebSocket ללקוח
- [ ] ממשק גרפי לשליחת פקודות

### שלב 4: אינטגרציה ובדיקות (יום 7)
- [ ] בדיקת תקשורת שרת-לקוח
- [ ] סינכרון מצבי משחק
- [ ] טיפול בטעויות ונתקים

## 💡 איך להתחיל?

**היום:** 
1. בואי נכין את מבנה התיקיות
2. נזהה בדיוק אילו קבצים הולכים לאן
3. נכתוב את הפרוטוקול הבסיסי

**מחר:**
1. נתחיל לכתוב WebSocket server פשוט
2. נסיר את הגרפיקה מהשרת

רוצה שנתחיל עם השלב הראשון?
